# Pet QRB Hardhat Node

–õ–æ–∫–∞–ª—å–Ω–∞—è –±–ª–æ–∫—á–µ–π–Ω-–Ω–æ–¥–∞ –Ω–∞ –±–∞–∑–µ Hardhat –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã QR-–ø–ª–∞—Ç–µ–∂–µ–π.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
npm run compile

# –ó–∞–ø—É—Å–∫ –Ω–æ–¥—ã
npm run node

# –î–µ–ø–ª–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
npm run deploy
```

## üê≥ Docker

```bash
# –ó–∞–ø—É—Å–∫
docker-compose up --build -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –õ–æ–≥–∏
docker-compose logs -f
```

## üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **RPC URL**: `http://localhost:8545`
- **Chain ID**: `1337`
- **–°–µ—Ç—å**: `qrb-network` (Docker)
- **–ê–∫–∫–∞—É–Ω—Ç—ã**: 20 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å –±–∞–ª–∞–Ω—Å–∞–º–∏ –ø–æ 10000 ETH

## üìù –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

### QRPaymentContract

–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ QR-–ø–ª–∞—Ç–µ–∂–µ–π:

- `payForTariff(bytes32 paymentId, bytes32 tariffId, uint256 price)` - –ø—Ä–∏–µ–º –ø–ª–∞—Ç–µ–∂–µ–π
- `withdrawAll()` - –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º
- `getBalance()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `npm run compile` | –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ |
| `npm run node` | –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –Ω–æ–¥—ã |
| `npm run deploy` | –î–µ–ø–ª–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (—Å–∫—Ä–∏–ø—Ç) |
| `npm run deploy:ignition` | –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Ignition |
| `npm run start` | –ê–ª–∏–∞—Å –¥–ª—è `node` |

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```javascript
const networkRpcUrl = "http://localhost:8545"; // –ª–æ–∫–∞–ª—å–Ω–æ
// –∏–ª–∏
const networkRpcUrl = "http://hardhat-node:8545"; // –≤ Docker —Å–µ—Ç–∏
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```tree
contracts/
  ‚îî‚îÄ‚îÄ QRPaymentContract.sol    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–ª–∞—Ç–µ–∂–µ–π

scripts/
  ‚îî‚îÄ‚îÄ deploy.js                 # –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è

ignition/
  ‚îî‚îÄ‚îÄ modules/
      ‚îî‚îÄ‚îÄ QRPaymentContract.js  # Ignition –º–æ–¥—É–ª—å –¥–µ–ø–ª–æ—è
```

## üì¶ –î–µ–ø–ª–æ–π

–î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –¥–µ–ø–ª–æ—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞:

**–ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç:**

```bash
npm run deploy
```

**–ß–µ—Ä–µ–∑ Ignition:**

```bash
npm run deploy:ignition
```
